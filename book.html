<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Book your First Aid course with Coral Sea Training. Quick online booking — we'll confirm your spot within 2 hours. RTO #32221.">
    <meta property="og:title" content="Book Your Course | Coral Sea Training">
    <meta property="og:description" content="Book your First Aid course online. Quick booking — we'll confirm your spot within 2 hours. RTO #32221.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://jgold43.github.io/coral-sea-training/book.html">
    <meta property="og:image" content="https://images.pexels.com/photos/11655091/pexels-photo-11655091.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2">
    <link rel="canonical" href="https://jgold43.github.io/coral-sea-training/book.html">
    <title>Book Your Course | Coral Sea Training | RTO #32221</title>

    <!-- Google Analytics 4 -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-XXXXXXXXXX"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-XXXXXXXXXX');
    </script>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=DM+Serif+Display&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ccircle cx='50' cy='50' r='46' fill='%231B8A3D' stroke='%23D90A0A' stroke-width='6'/%3E%3Ctext x='50' y='68' text-anchor='middle' fill='white' font-size='50' font-weight='bold'%3E+%3C/text%3E%3C/svg%3E">
</head>
<body>
    <!-- Header -->
    <header class="header" id="header">
        <div class="container">
            <div class="header-inner">
                <a href="index.html" class="logo">
                    <div class="logo-mark">+</div>
                    <div class="logo-text">
                        <span class="logo-name">Coral Sea Training</span>
                        <span class="logo-tagline">RTO #32221</span>
                    </div>
                </a>
                <nav class="nav">
                    <a href="index.html" class="nav-link">Home</a>
                    <a href="about.html" class="nav-link">About</a>
                    <a href="courses.html" class="nav-link">Courses</a>
                    <a href="shop.html" class="nav-link">Shop</a>
                    <a href="contact.html" class="nav-link">Contact</a>
                </nav>
                <div class="header-actions">
                    <a href="tel:0419675022" class="header-phone">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72c.127.96.361 1.903.7 2.81a2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45c.907.339 1.85.573 2.81.7A2 2 0 0 1 22 16.92z"/></svg>
                        0419 675 022
                    </a>
                    <a href="courses.html" class="btn btn-primary">Find My Course</a>
                    <button class="mobile-toggle" id="mobileToggle" aria-label="Menu">
                        <span></span><span></span><span></span>
                    </button>
                </div>
            </div>
        </div>
    </header>

    <div class="mobile-menu" id="mobileMenu">
        <a href="index.html" class="nav-link">Home</a>
        <a href="about.html" class="nav-link">About</a>
        <a href="courses.html" class="nav-link">Courses</a>
        <a href="shop.html" class="nav-link">Shop</a>
        <a href="contact.html" class="nav-link">Contact</a>
    </div>

    <!-- Page Header -->
    <section class="page-header">
        <div class="container">
            <div class="breadcrumb">
                <a href="index.html">Home</a>
                <span>/</span>
                <a href="courses.html">Courses</a>
                <span>/</span>
                <span>Book</span>
            </div>
            <h1>Book Your Course</h1>
            <p>Complete the form below and we'll confirm your spot within 2 hours.</p>
        </div>
    </section>

    <!-- Booking Section -->
    <section class="section">
        <div class="container">
            <div class="contact-grid">
                <!-- Left: Course Summary -->
                <div id="bookingSummary">
                    <div style="background:var(--white);border-radius:16px;padding:var(--space-6);box-shadow:var(--shadow-lg);border:1px solid var(--gray-200);">
                        <div id="courseSummaryContent">
                            <h3 style="font-family:var(--font-display);font-size:1.5rem;color:var(--navy);margin-bottom:var(--space-4);">Your Course</h3>
                            <p style="color:var(--gray-600);">Select a course below or <a href="courses.html" style="color:var(--red);font-weight:600;">use our course finder</a> to get a personalised recommendation.</p>
                        </div>

                        <div style="margin-top:var(--space-6);padding-top:var(--space-4);border-top:1px solid var(--gray-200);">
                            <h4 style="font-size:0.875rem;font-weight:700;color:var(--navy);margin-bottom:var(--space-3);">What You Walk Away With</h4>
                            <div style="display:flex;align-items:start;gap:var(--space-2);margin-bottom:var(--space-2);">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="width:16px;height:16px;color:var(--green);flex-shrink:0;margin-top:2px;"><polyline points="20 6 9 17 4 12"/></svg>
                                <span style="font-size:0.875rem;color:var(--gray-700);">Nationally recognised Statement of Attainment</span>
                            </div>
                            <div style="display:flex;align-items:start;gap:var(--space-2);margin-bottom:var(--space-2);">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="width:16px;height:16px;color:var(--green);flex-shrink:0;margin-top:2px;"><polyline points="20 6 9 17 4 12"/></svg>
                                <span style="font-size:0.875rem;color:var(--gray-700);">Confidence to act in a real emergency</span>
                            </div>
                            <div style="display:flex;align-items:start;gap:var(--space-2);">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="width:16px;height:16px;color:var(--green);flex-shrink:0;margin-top:2px;"><polyline points="20 6 9 17 4 12"/></svg>
                                <span style="font-size:0.875rem;color:var(--gray-700);">Workplace compliance sorted in one day</span>
                            </div>
                        </div>

                        <div style="margin-top:var(--space-4);padding:var(--space-3) var(--space-4);background:var(--green-light);border-radius:8px;display:flex;align-items:center;gap:var(--space-2);">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="width:18px;height:18px;color:var(--green);flex-shrink:0;"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/><path d="m9 12 2 2 4-4"/></svg>
                            <span style="font-size:0.8125rem;color:var(--navy);"><strong>100% Skills Mastery Guarantee</strong> &mdash; retrain free if you don't feel confident</span>
                        </div>
                    </div>
                </div>

                <!-- Right: Booking Form -->
                <div class="contact-form">
                    <h3>Your Details</h3>
                    <form id="bookingForm" action="https://formspree.io/f/PLACEHOLDER_BOOKING" method="POST">
                        <input type="hidden" name="_next" value="https://jgold43.github.io/coral-sea-training/thanks.html?type=booking">
                        <input type="hidden" name="_subject" value="New Booking Request">
                        <input type="hidden" name="course" id="hiddenCourse">
                        <input type="hidden" name="location" id="hiddenLocation">

                        <div class="form-group">
                            <label class="form-label" for="bookCourse">Course *</label>
                            <select class="form-select" id="bookCourse" name="course_display" required>
                                <option value="">Select a course...</option>
                                <option value="CPR Course (HLTAID009) - $99">CPR Course (HLTAID009) &mdash; $99</option>
                                <option value="Provide First Aid (HLTAID011) - $159">Provide First Aid (HLTAID011) &mdash; $159</option>
                                <option value="Childcare First Aid (HLTAID012) - $199">Childcare First Aid (HLTAID012) &mdash; $199</option>
                                <option value="Advanced Resuscitation (HLTAID015) - $199">Advanced Resuscitation (HLTAID015) &mdash; $199</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label class="form-label" for="bookLocation">Preferred Location *</label>
                            <select class="form-select" id="bookLocation" name="location_display" required>
                                <option value="">Select a location...</option>
                                <option value="Townsville - 40 Charles St, Aitkenvale">Townsville &mdash; 40 Charles St, Aitkenvale</option>
                                <option value="Wide Bay - 60 John St, Maryborough">Wide Bay &mdash; 60 John St, Maryborough</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label class="form-label" for="bookDate">Preferred Date</label>
                            <select class="form-select" id="bookDate" name="preferred_date">
                                <option value="">Select course &amp; location first...</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label class="form-label" for="bookName">Full Name *</label>
                            <input type="text" class="form-input" id="bookName" name="name" required>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label" for="bookEmail">Email *</label>
                                <input type="email" class="form-input" id="bookEmail" name="email" required>
                            </div>
                            <div class="form-group">
                                <label class="form-label" for="bookPhone">Phone *</label>
                                <input type="tel" class="form-input" id="bookPhone" name="phone" required>
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="form-label" for="bookNotes">Additional Notes</label>
                            <textarea class="form-textarea" id="bookNotes" name="notes" rows="3" placeholder="Any dietary requirements, accessibility needs, or questions..."></textarea>
                        </div>

                        <button type="submit" class="btn btn-primary btn-lg" style="width: 100%;">
                            Reserve My Spot
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="width:20px;height:20px;"><line x1="5" y1="12" x2="19" y2="12"/><polyline points="12 5 19 12 12 19"/></svg>
                        </button>

                        <div style="text-align:center;margin-top:var(--space-3);">
                            <small style="color:var(--gray-500);">No payment now &mdash; pay on the day</small>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </section>

    <!-- Social Proof Strip -->
    <section class="section section-gray" style="padding:var(--space-8) 0;">
        <div class="container" style="text-align:center;">
            <div style="display:flex;flex-wrap:wrap;justify-content:center;gap:var(--space-6);font-size:0.875rem;color:var(--gray-600);">
                <span><strong style="color:var(--navy);">10,000+</strong> Queenslanders certified</span>
                <span><strong style="color:var(--navy);">98%</strong> pass first time</span>
                <span><strong style="color:var(--navy);">4.4</strong> Google Rating</span>
                <span><strong style="color:var(--navy);">RTO</strong> #32221</span>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-grid">
                <div class="footer-brand">
                    <a href="index.html" class="logo">
                        <div class="logo-mark">+</div>
                        <div class="logo-text">
                            <span class="logo-name">Coral Sea Training</span>
                            <span class="logo-tagline">RTO #32221</span>
                        </div>
                    </a>
                    <p>Quality Training Generates Peace of Mind. Nationally accredited First Aid training in Queensland.</p>
                </div>
                <div class="footer-nav">
                    <h4>Quick Links</h4>
                    <ul>
                        <li><a href="index.html">Home</a></li>
                        <li><a href="about.html">About Us</a></li>
                        <li><a href="courses.html">Our Courses</a></li>
                        <li><a href="shop.html">Shop</a></li>
                        <li><a href="contact.html">Contact</a></li>
                    </ul>
                </div>
                <div class="footer-nav">
                    <h4>Courses</h4>
                    <ul>
                        <li><a href="courses.html">CPR (HLTAID009)</a></li>
                        <li><a href="courses.html">First Aid (HLTAID011)</a></li>
                        <li><a href="courses.html">Childcare (HLTAID012)</a></li>
                        <li><a href="courses.html">Advanced (HLTAID015)</a></li>
                    </ul>
                </div>
                <div class="footer-contact">
                    <h4>Contact</h4>
                    <p><strong>Townsville:</strong> <a href="tel:0419675022">0419 675 022</a></p>
                    <p><strong>Wide Bay:</strong> <a href="tel:0488488467">0488 488 467</a></p>
                    <p><a href="mailto:admin@coralseatraining.com.au">admin@coralseatraining.com.au</a></p>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2026 Coral Sea Training. All rights reserved. RTO #32221</p>
            </div>
        </div>
    </footer>

    <script src="js/course-data.js"></script>
    <script src="js/main.js"></script>
    <script>
    (function() {
        var params = new URLSearchParams(window.location.search);
        var courseParam = params.get('course') || '';
        var locationParam = params.get('location') || '';

        var locationMap = {
            'townsville': 'Townsville - 40 Charles St, Aitkenvale',
            'widebay': 'Wide Bay - 60 John St, Maryborough'
        };

        // Pre-fill hidden fields
        document.getElementById('hiddenCourse').value = courseParam;
        document.getElementById('hiddenLocation').value = locationParam;

        // Build course select options from centralized data
        var courseSelect = document.getElementById('bookCourse');
        var courseDisplayMap = {};
        for (var c = 0; c < COURSE_DATA.length; c++) {
            var cd = COURSE_DATA[c];
            var displayVal = cd.title + ' (' + cd.code + ') - ' + cd.priceLabel;
            courseDisplayMap[cd.id] = displayVal;
            courseDisplayMap[cd.code.toLowerCase()] = displayVal;
        }

        // Pre-select course dropdown
        if (courseDisplayMap[courseParam.toLowerCase()]) {
            for (var i = 0; i < courseSelect.options.length; i++) {
                if (courseSelect.options[i].value === courseDisplayMap[courseParam.toLowerCase()]) {
                    courseSelect.selectedIndex = i;
                    break;
                }
            }
        }

        // Pre-select location dropdown
        if (locationMap[locationParam]) {
            var locSelect = document.getElementById('bookLocation');
            for (var j = 0; j < locSelect.options.length; j++) {
                if (locSelect.options[j].value === locationMap[locationParam]) {
                    locSelect.selectedIndex = j;
                    break;
                }
            }
        }

        // Populate date dropdown — try sessions.json for richer display, fallback to course-data.js
        var bookSessionData = null;
        fetch('data/sessions.json')
            .then(function(r) { return r.json(); })
            .then(function(d) { bookSessionData = d; updateDateOptions(); })
            .catch(function() { bookSessionData = null; });

        function updateDateOptions() {
            var dateSelect = document.getElementById('bookDate');
            var selCourse = courseSelect.value;
            var locSelect = document.getElementById('bookLocation');
            var selLoc = locSelect.value;

            // Determine courseId and locationId from current selections
            var courseId = null;
            var courseCode = null;
            for (var k = 0; k < COURSE_DATA.length; k++) {
                var checkVal = COURSE_DATA[k].title + ' (' + COURSE_DATA[k].code + ') - ' + COURSE_DATA[k].priceLabel;
                if (checkVal === selCourse) { courseId = COURSE_DATA[k].id; courseCode = COURSE_DATA[k].code; break; }
            }
            var locationId = null;
            if (selLoc.indexOf('Townsville') === 0) locationId = 'townsville';
            else if (selLoc.indexOf('Wide Bay') === 0) locationId = 'widebay';

            // Clear existing options
            dateSelect.innerHTML = '<option value="">Select a date...</option>';

            if (courseId && locationId) {
                // Try sessions.json for richer data (times + seats)
                var usedSessionData = false;
                if (bookSessionData && bookSessionData.courses) {
                    var today = new Date().toISOString().slice(0, 10);
                    for (var si = 0; si < bookSessionData.courses.length; si++) {
                        var sc = bookSessionData.courses[si];
                        if (sc.code === courseCode || sc.id === courseId) {
                            var loc = sc.locations[locationId];
                            if (loc && loc.sessions) {
                                var showSeats = bookSessionData.meta && bookSessionData.meta.showSeatCounts;
                                var futureSessions = loc.sessions.filter(function(s) { return s.dateISO >= today; });
                                for (var fs = 0; fs < futureSessions.length; fs++) {
                                    var sess = futureSessions[fs];
                                    var opt = document.createElement('option');
                                    opt.value = sess.dateISO;
                                    var label = sess.label + ' \u2022 ' + sess.start + '\u2013' + sess.end;
                                    if (showSeats && sess.seatsLeft) {
                                        label += ' (' + sess.seatsLeft + ' seats left)';
                                    }
                                    opt.textContent = label;
                                    dateSelect.appendChild(opt);
                                }
                                usedSessionData = futureSessions.length > 0;
                            }
                            break;
                        }
                    }
                }

                // Fallback to course-data.js basic dates
                if (!usedSessionData) {
                    var dates = getUpcomingDates(courseId, locationId);
                    for (var d = 0; d < dates.length; d++) {
                        var opt2 = document.createElement('option');
                        opt2.value = dates[d].dateStr;
                        opt2.textContent = dates[d].formattedLong;
                        dateSelect.appendChild(opt2);
                    }
                }

                if (dateSelect.options.length <= 1) {
                    var noOpt = document.createElement('option');
                    noOpt.value = '';
                    noOpt.textContent = 'No upcoming dates \u2014 call us to arrange';
                    dateSelect.appendChild(noOpt);
                }
            }
        }

        courseSelect.addEventListener('change', updateDateOptions);
        document.getElementById('bookLocation').addEventListener('change', updateDateOptions);

        // Initial populate if both are pre-selected
        if (courseParam && locationParam) updateDateOptions();

        // Update summary card from centralized data
        var courseObj = getCourse(courseParam);
        if (courseObj) {
            var locLabel = locationMap[locationParam] || '';
            var el = document.getElementById('courseSummaryContent');
            el.innerHTML = '<span style="display:inline-block;background:var(--red);color:white;font-size:0.6875rem;font-weight:700;padding:2px 10px;border-radius:20px;text-transform:uppercase;margin-bottom:var(--space-2);">Selected Course</span>' +
                '<h3 style="font-family:var(--font-display);font-size:1.5rem;color:var(--navy);margin-bottom:var(--space-2);">' + courseObj.title + '</h3>' +
                '<p style="font-size:0.8125rem;color:var(--gray-500);margin-bottom:var(--space-2);">' + courseObj.code + ' &bull; ' + courseObj.duration + ' &bull; Valid ' + courseObj.validity + '</p>' +
                '<div style="display:flex;align-items:baseline;gap:var(--space-2);margin-bottom:var(--space-2);">' +
                    '<span style="font-size:2rem;font-weight:800;color:var(--red);">' + courseObj.priceLabel + '</span>' +
                    '<span style="font-size:0.875rem;color:var(--gray-500);">per person &bull; pay on the day</span>' +
                '</div>' +
                (locLabel ? '<p style="font-size:0.875rem;color:var(--gray-600);">Location: <strong>' + locLabel + '</strong></p>' : '');
        }

        // GA4 event
        if (typeof gtag !== 'undefined') {
            gtag('event', 'book_start', { event_label: courseParam || 'direct' });
        }

        // Track form submission
        var form = document.getElementById('bookingForm');
        if (form) {
            form.addEventListener('submit', function() {
                if (typeof gtag !== 'undefined') {
                    gtag('event', 'book_submit', {
                        event_label: document.getElementById('bookCourse').value,
                        event_category: 'Booking'
                    });
                }
            });
        }
    })();
    </script>
</body>
</html>
